<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/blog/libs/katex/katex.min.css"> <link rel=stylesheet  href="/blog/libs/highlight/github.min.css"> <link href="/blog/css/franklin.css" rel=stylesheet > <link href="/blog/css/vela.css" rel=stylesheet > <script src="/blog/libs/vela/jquery.min.js"></script> <link rel=icon  href="/blog/assets/favicon.png"> <title>Franklin Example | Vela</title> <div class=main-nav  id=menu > <div class=flex-container > <span class=sidebar-brand > <h3 style='font-size: 25px'>Vela Template</h3> </span> </div> <nav class=sidebar-nav > <ul class=metismenu  id=metismenu  > <li><a href="/blog/index.html">Home</a> <li><a href="/blog/menu1/">Code blocks</a> <li><a href="/blog/2021-03/">2021-03</a> <li><a href="/blog/2021-04/">2021-04</a> <li><a href="/blog/menu3/">Tags</a> </ul> </nav> </div> <main id=panel > <div class="toggle-button hamburger hamburger--spin"> <div class=hamburger-box > <div class=hamburger-inner ></div> </div> </div> <h1 class="page title">2021-04</h1> <hr> <div class=franklin-content ><h1 id=2021-04-01 ><a href="#2021-04-01" class=header-anchor >2021-04-01</a></h1> <p>あいかわらず体調が優れない。 このサイトはFranklinで作っていて、その整備を少しだけ進めた。 体調が悪いのは健康診断で引っかかった肝臓の所為なのかな。 FranklinでPlotの結果を出してみた。</p> <pre><code class="julia hljs"><span class=hljs-keyword >import</span> Plots
Plots.gr()
<span class=hljs-keyword >using</span> LaTeXStrings
Plots.plot([sin, cos], xlabel=<span class=hljs-string >L&quot;x&quot;</span>, ylabel=<span class=hljs-string >L&quot;y&quot;</span>)</code></pre> <img src="/blog/assets/2021-04/code/output/gr2.png" alt=""> <p>やっぱ眠いな。 お腹痛いし口内炎や。 おれはもう駄目だ！！！</p> <p>Franklinだとmarkdown内のjuliaのコードプロックにシンタックスハイライト効かないのがつらいと思ったけど<code>julia :plot</code>みたいに空白入れたら解決した。 と思ったが、それだとjuliaが実行されなくてやっぱ駄目やったわ。</p> <p>4月っぽい目標を一つ：今年度こそは論文書ききるぞオラ！！</p> <h1 id=20210402 ><a href="#20210402" class=header-anchor >2021/04/02</a></h1> <p>体調が優れないのは引き続きで、今日は病院に行った。 会社の検査で肝臓の項目に引っかかってた事が理由であって、体調不良が理由ではない。 ついでに聞けると良いかと思っていたが、「コロナ患者は受け入れてないので倦怠感のある人はご遠慮願いますね」と書いてあって言い出せなかった。 眠気も同時に来てるのでコロナではないとは思う。</p> <p>BasicBSpline.jlで、これまでは制御点を<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>×</mo><msub><mi>N</mi><mn>2</mn></msub><mo>×</mo><mover accent=true ><mi>d</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">N_1×N_2×\hat{d}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >×</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >×</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.9578799999999998em;vertical-align:0em;"></span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.9578799999999998em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mathnormal">d</span></span><span style="top:-3.26344em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.08332999999999999em;"><span class=mord >^</span></span></span></span></span></span></span></span></span></span>次元の&#40;実&#41;配列として保持していたが、これを<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>×</mo><msub><mi>N</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">N_1×N_2</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >×</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>次元の&#40;制御点&#41;配列として保持するように変更している。 制御点は<code>Point</code>で、<code>GeometryBasics.jl</code>を使うようにする変更。 数日前から取り組んでいる変更であるが、今日やっとテストが通るようになった。 テスト書いてて良かった！</p> <p>明日はパフォーマンスの改善具合について調べてmergeできるとハッピー！ パフォーマンスについては<code>PkgBenchmark.jl</code>とか<code>BenchmarkCI.jl</code>とかを調べたけどあまり情報がまとまっていなくて分からなかった。 引き続き調べるか、あるいは適当に<code>BenchmarkTools.jl</code>だけで頑張るか…。</p> <h1 id=20210403 ><a href="#20210403" class=header-anchor >2021/04/03</a></h1> <p>BasicBSpline.jlの整備を進めました。 <code>GeometryBasics.Point</code>を使った影響で微妙にパフォーマンス悪くなってたけど、気にせずにmergeしちゃった。 まあ定数倍だろうし、interfaceの方が重要だからOKでしょう。 あと、<code>PkgBenchmark.jl</code>とか<code>BenchmarkCI.jl</code>の周辺が分かったので<code>BasicBSpline.jl</code>に組み込めました。 やったね🎉</p> <p>料理もしました。 いつものトマトリニク。 しかし口内炎なので味がよく分かりませんでした。</p> <p>なんか体調が少し落ち着いて、画像処理、統計処理、情報幾何、3Dレンダラとか趣味で色々手を動かしたい対象が定まった感。 真面目に「データ解析のための統計モデリング入門」を読み始めたい&#40;ついでにR触ってみたい&#41;。 Juliaでレンダラ作るやつもやっていきたい。 特徴点のアルゴリズム周辺理解したい。 <code>ImageFreatures.jl</code>とか<code>GeometryBasics.jl</code>のドキュメント整備したい。</p> <p>「ですます」と「だである」の混在があるけれども、感情表現によって使い分けてるフシがあるので仕方ないように思う。 もう少しちゃんと文章を書く練習をした方が良いのでは。</p> <h1 id=20210404 ><a href="#20210404" class=header-anchor >2021/04/04</a></h1> <p>そう言えばもう4月だったか。 4月が来たことより5月が近いことへの驚きの方が大きい。 亜人も進撃の巨人も完結してしまう。</p> <p>今日はRay Tracing in One Weekendを進めた。 OneWeekendと言いつつ、one monthくらい掛かりそうな気がする。 Juliaなので慣れない&#40;?&#41;C&#43;&#43;よりは実装速度速いだろうけれども、色々理解しながらのんびり進めようと思っている。 あとは既存パッケージも色々使っていきたいのでそれも合わせると少しは実装早く終わるかな。</p> <p>体調。 やりたいことの時間を取れば、眠気とか怠さの問題は解決出来た気がする。 それはそれとして、肩凝り・首凝りの問題が依然として存在し、デスク環境に問題があることが分かってきた。 Ergohumanのたっかい椅子を購入してすべてが解決すると思っていたが大間違いであった。 まずその椅子のヘッドレストが合わない。 ヘッドレストだけ調整の自由度が低く、前に出っ張りすぎてる感がある。 一時的にヘッドレストの部品を外したら幾分か楽になった。 あとディスプレイが小さい。 4Kにしたら便利ではあったけど、文字が小さすぎて前傾姿勢になってしまう。 Ergodoxは椅子のアームレストに乗って欲しいが、無線じゃないのでつらい。 デスクの高さが適切かもよく分からない。</p> <p><code>StaticArrays.jl</code>のdocument deploymentが出来てない問題があり、23時くらいから取り掛かった。 以前の私のPRがreviewerに編集されてmergeされたが、そのreviewerの編集が原因でdeployに失敗してたっぽい。 OSSの修正のPRを投げるのにも慣れてきた。 相手のcommitに問題がある状況なのでなるだけ丸い言葉でPR投げたいが、英語力の問題もあって少し難しい。 まあGitHubなのでOKでしょう。</p> <h1 id=2021-04-05 ><a href="#2021-04-05" class=header-anchor >2021-04-05</a></h1> <p>Markov埋め込みの気持ちが分かってきました。 2マス進む。</p> <p>日記執筆のハードルを下げるために、基本的に画像とか載せない方針だったが、Franklinを試すことも目的でした。 そういう訳で今日は画像付きの日記です。</p> <p><img src=probabilistic_simplex.png  alt="" /></p> <p>普通のmarkdownですね。 「有限集合<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Ω</span></span></span></span>上の確率分布は単体上の一点に対応する」の図です。 今日気づいたのが、「<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >Ω</span></span></span></span>上でサンプリングした点を単体の頂点に対応させて重心を対応させ、極限を取ると確率分布<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span>の点に&#40;弱&#41;収束する」という性質です。 幾何的なイメージが付くと扱いやすくて良いですね。</p> <p><img src=markov_embedding.png  alt="" /></p> <p>で、こっちがMarkov埋め込み。 定義だけだと意味不明でしたが、「情報を落とす操作」が「単体の頂点をグルーピングして各グループで単体を作る操作」と考えれば腑に落ちました。 <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant=double-struck >R</mi><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">\mathbb R^4</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8141079999999999em;vertical-align:0em;"></span><span class=mord ><span class="mord mathbb">R</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span>上の単体<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant=script >S</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">\mathcal{S}_3</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.075em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>は3次元なので正四面体として絵が描けます。 嬉しいですね。</p> <h1 id=2021-04-06 ><a href="#2021-04-06" class=header-anchor >2021-04-06</a></h1> <p>ねむい。</p> <p>Documenter.jlのロゴが気に入らず、少し手を入れようとしたが思ったよりも上手く進まなかった。</p> <ul> <li><p>ロゴのアウトラインが文字に被ってる</p> <li><p>ロゴのアウトラインが細すぎて無意味になってる</p> <li><p>ロゴの本の形がイビツ</p> </ul> <p>とか色々思うところがあったのだが、PR出せるほどには改善できなかった。</p> <p>新しい計算としてEquallySpacedPointsOnSO3を始めた。 SO&#40;3&#41;上で&quot;等間隔&quot;な点群を作ったときに正多面体群が出てくるか実権してみたかった。</p> <p>やりかけの事柄ばかり溜まっていくが仕方あるまい。</p> <h1 id=2021-04-07 ><a href="#2021-04-07" class=header-anchor >2021-04-07</a></h1> <p>昨日に引き続き、EquallySpacedPointsOnSO3をやっていく。 しかしどうにも上手く行かない。 近似的に正多面体群が出てくるかと思ったが、精度が悪いか予想が間違ってるかで上手く進まない。 計算方法が悪いために精度が悪くなっていると予想してるがどうだろう。</p> <p>Modified Rodrigues Parameters辺りでちょっと理解深まったので良かった。 <code>Rotations.MRP</code>の挙動は一部謎だが…。</p> <p>あと、<code>rand</code>周辺でのバグを踏んでしまった。 issue送ると同時にPRを投げたいので、しばらく悩んでしまったが、時間が掛かるようなら早くissueを投げるのが良さそうに思う。</p> <h1 id=2021-04-08 ><a href="#2021-04-08" class=header-anchor >2021-04-08</a></h1> <p>Rotations.jlに改善点たっっくさんありそうなのでとりあえず3つPR投げた。 v1.6に対応する件・自明なConstructorを追加する件・CompatHelperを追加する件。</p> <p>肩こりが酷い件について、整骨院に行ってみた。 「ここ押したら痛いでしょう」「バキッとほぐしますね〜」「さっきの場所を押しても痛くないでしょう〜」みたいな感じだったが、「いや押す力弱くなってるやろがい！！」な気がした。 他にも「姿勢もさっきより全然良くなってますよ〜」とかも言われたが、定量的に測っていないので何とも言えない。 説明は概ね理論的で、肩周りが楽になったのは事実なので、次回以降も通う予定。 「細胞が活性化して〜〜」みたいな説明は眉唾だったが、まあ理論はどうでも良くて治りさえすれば良いとも思う。</p> <h1 id=2021-04-09 ><a href="#2021-04-09" class=header-anchor >2021-04-09</a></h1> <p>この日は記憶が曖昧で、あんまり覚えてないが、Rotations.jlにPR送ったりした気がする。 あとは平日なので仕事したりとか。</p> <p>晩ごはんには親子丼を作った。</p> <h1 id=2021-04-10 ><a href="#2021-04-10" class=header-anchor >2021-04-10</a></h1> <p>ふたたびRotations.jlにPR送ってissue投げたりした。 測地線の方程式をWolfram engineで解いたりした。</p> <h1 id=20210411 ><a href="#20210411" class=header-anchor >2021/04/11</a></h1> <ul> <li><p>家の掃除を色々頑張った</p> <li><p>鴨川を眺めながら海鮮丼を食べた</p> <li><p>鴨川でゴミ拾いをした</p> <li><p>口内炎が痛いですね</p> </ul> <div class=page-foot > <div class=copyright > &copy; Hyrodium. Last modified: April 11, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </main> <script src="/blog/libs/vela/metisMenu.min.js"></script> <script src="/blog/libs/vela/slideout.min.js"></script>