@def title = "2021-04"

# 2021-04-01
あいかわらず体調が優れない。
このサイトはFranklinで作っていて、その整備を少しだけ進めた。
体調が悪いのは健康診断で引っかかった肝臓の所為なのかな。
FranklinでPlotの結果を出してみた。

```julia:plot2
import Plots
Plots.gr()
using LaTeXStrings
Plots.plot([sin, cos], xlabel=L"x", ylabel=L"y")
Plots.savefig(joinpath(@OUTPUT, "gr2.png")) # hide
```

\fig{gr2}

やっぱ眠いな。
お腹痛いし口内炎や。
おれはもう駄目だ！！！

Franklinだとmarkdown内のjuliaのコードプロックにシンタックスハイライト効かないのがつらいと思ったけど`julia :plot`みたいに空白入れたら解決した。
と思ったが、それだとjuliaが実行されなくてやっぱ駄目やったわ。

4月っぽい目標を一つ：今年度こそは論文書ききるぞオラ！！

# 2021/04/02
体調が優れないのは引き続きで、今日は病院に行った。
会社の検査で肝臓の項目に引っかかってた事が理由であって、体調不良が理由ではない。
ついでに聞けると良いかと思っていたが、「コロナ患者は受け入れてないので倦怠感のある人はご遠慮願いますね」と書いてあって言い出せなかった。
眠気も同時に来てるのでコロナではないとは思う。

BasicBSpline.jlで、これまでは制御点を$N_1×N_2×\hat{d}$次元の(実)配列として保持していたが、これを$N_1×N_2$次元の(制御点)配列として保持するように変更している。
制御点は`Point`で、`GeometryBasics.jl`を使うようにする変更。
数日前から取り組んでいる変更であるが、今日やっとテストが通るようになった。
テスト書いてて良かった！

明日はパフォーマンスの改善具合について調べてmergeできるとハッピー！
パフォーマンスについては`PkgBenchmark.jl`とか`BenchmarkCI.jl`とかを調べたけどあまり情報がまとまっていなくて分からなかった。
引き続き調べるか、あるいは適当に`BenchmarkTools.jl`だけで頑張るか…。

# 2021/04/03
BasicBSpline.jlの整備を進めました。
`GeometryBasics.Point`を使った影響で微妙にパフォーマンス悪くなってたけど、気にせずにmergeしちゃった。
まあ定数倍だろうし、interfaceの方が重要だからOKでしょう。
あと、`PkgBenchmark.jl`とか`BenchmarkCI.jl`の周辺が分かったので`BasicBSpline.jl`に組み込めました。
やったね:tada:

料理もしました。
いつものトマトリニク。
しかし口内炎なので味がよく分かりませんでした。

なんか体調が少し落ち着いて、画像処理、統計処理、情報幾何、3Dレンダラとか趣味で色々手を動かしたい対象が定まった感。
真面目に「データ解析のための統計モデリング入門」を読み始めたい(ついでにR触ってみたい)。
Juliaでレンダラ作るやつもやっていきたい。
特徴点のアルゴリズム周辺理解したい。
`ImageFreatures.jl`とか`GeometryBasics.jl`のドキュメント整備したい。

「ですます」と「だである」の混在があるけれども、感情表現によって使い分けてるフシがあるので仕方ないように思う。
もう少しちゃんと文章を書く練習をした方が良いのでは。

# 2021/04/04
そう言えばもう4月だったか。
4月が来たことより5月が近いことへの驚きの方が大きい。
亜人も進撃の巨人も完結してしまう。

今日はRay Tracing in One Weekendを進めた。
OneWeekendと言いつつ、one monthくらい掛かりそうな気がする。
Juliaなので慣れない(?)C++よりは実装速度速いだろうけれども、色々理解しながらのんびり進めようと思っている。
あとは既存パッケージも色々使っていきたいのでそれも合わせると少しは実装早く終わるかな。

体調。
やりたいことの時間を取れば、眠気とか怠さの問題は解決出来た気がする。
それはそれとして、肩凝り・首凝りの問題が依然として存在し、デスク環境に問題があることが分かってきた。
Ergohumanのたっかい椅子を購入してすべてが解決すると思っていたが大間違いであった。
まずその椅子のヘッドレストが合わない。
ヘッドレストだけ調整の自由度が低く、前に出っ張りすぎてる感がある。
一時的にヘッドレストの部品を外したら幾分か楽になった。
あとディスプレイが小さい。
4Kにしたら便利ではあったけど、文字が小さすぎて前傾姿勢になってしまう。
Ergodoxは椅子のアームレストに乗って欲しいが、無線じゃないのでつらい。
デスクの高さが適切かもよく分からない。

`StaticArrays.jl`のdocument deploymentが出来てない問題があり、23時くらいから取り掛かった。
以前の私のPRがreviewerに編集されてmergeされたが、そのreviewerの編集が原因でdeployに失敗してたっぽい。
OSSの修正のPRを投げるのにも慣れてきた。
相手のcommitに問題がある状況なのでなるだけ丸い言葉でPR投げたいが、英語力の問題もあって少し難しい。
まあGitHubなのでOKでしょう。

# 2021-04-05
Markov埋め込みの気持ちが分かってきました。
2マス進む。

日記執筆のハードルを下げるために、基本的に画像とか載せない方針だったが、Franklinを試すことも目的でした。
そういう訳で今日は画像付きの日記です。

![](probabilistic_simplex.png)

普通のmarkdownですね。
「有限集合$\Omega$上の確率分布は単体上の一点に対応する」の図です。
今日気づいたのが、「$\Omega$上でサンプリングした点を単体の頂点に対応させて重心を対応させ、極限を取ると確率分布$p$の点に(弱)収束する」という性質です。
幾何的なイメージが付くと扱いやすくて良いですね。

![](markov_embedding.png)

で、こっちがMarkov埋め込み。
定義だけだと意味不明でしたが、「情報を落とす操作」が「単体の頂点をグルーピングして各グループで単体を作る操作」と考えれば腑に落ちました。
$\setR^4$上の単体$\mathcal{S}_3$は3次元なので正四面体として絵が描けます。
嬉しいですね。

# 2021-04-06
ねむい。

Documenter.jlのロゴが気に入らず、少し手を入れようとしたが思ったよりも上手く進まなかった。

* ロゴのアウトラインが文字に被ってる
* ロゴのアウトラインが細すぎて無意味になってる
* ロゴの本の形がイビツ

とか色々思うところがあったのだが、PR出せるほどには改善できなかった。

新しい計算としてEquallySpacedPointsOnSO3を始めた。
SO(3)上で"等間隔"な点群を作ったときに正多面体群が出てくるか実権してみたかった。

やりかけの事柄ばかり溜まっていくが仕方あるまい。

# 2021-04-07
昨日に引き続き、EquallySpacedPointsOnSO3をやっていく。
しかしどうにも上手く行かない。
近似的に正多面体群が出てくるかと思ったが、精度が悪いか予想が間違ってるかで上手く進まない。
計算方法が悪いために精度が悪くなっていると予想してるがどうだろう。

Modified Rodrigues Parameters辺りでちょっと理解深まったので良かった。
`Rotations.MRP`の挙動は一部謎だが…。

あと、`rand`周辺でのバグを踏んでしまった。
issue送ると同時にPRを投げたいので、しばらく悩んでしまったが、時間が掛かるようなら早くissueを投げるのが良さそうに思う。

# 2021-04-08
Rotations.jlに改善点たっっくさんありそうなのでとりあえず3つPR投げた。
v1.6に対応する件・自明なConstructorを追加する件・CompatHelperを追加する件。

肩こりが酷い件について、整骨院に行ってみた。
「ここ押したら痛いでしょう」「バキッとほぐしますね〜」「さっきの場所を押しても痛くないでしょう〜」みたいな感じだったが、「いや押す力弱くなってるやろがい！！」な気がした。
他にも「姿勢もさっきより全然良くなってますよ〜」とかも言われたが、定量的に測っていないので何とも言えない。
説明は概ね理論的で、肩周りが楽になったのは事実なので、次回以降も通う予定。
「細胞が活性化して〜〜」みたいな説明は眉唾だったが、まあ理論はどうでも良くて治りさえすれば良いとも思う。

# 2021-04-09
この日は記憶が曖昧で、あんまり覚えてないが、Rotations.jlにPR送ったりした気がする。
あとは平日なので仕事したりとか。

晩ごはんには親子丼を作った。

# 2021-04-10
ふたたびRotations.jlにPR送ってissue投げたりした。
測地線の方程式をWolfram engineで解いたりした。

# 2021-04-11
* 家の掃除を色々頑張った
* 鴨川を眺めながら海鮮丼を食べた
* 鴨川でゴミ拾いをした
* 口内炎が痛いですね

# 2021-04-12
* 有給とってた (何となく休みたい気分だったので)
* `Meshes.jl`を知った。`GeometryBasics.jl`より良さそう
* `GeometryBasic.jl`にPR送ったりしてmergeされた
* 休んだけど結局だらだらしただけかも
* ベイズ推論の勉強会の準備しようと思って忘れてた(ヤバ)

# 2021-04-13
またしても日記が遅れてしまった。(2021-04-14)

仕事は、進捗が悪い気がするが生きている。
肩こりが酷くて体調が芳しくないのが続いている。
一時期の眠さは改善されたが、次は口内炎に苦しんでいる。

Juliaの話。
GeometryBasics.jlのdocumentのPRに反応があったのは良かった。
Meshes.jlのissueで色々議論してPR投げるのもできた。
Meshes.jlが出来た直後は若干揉めてたっぽい様子だったが、現在はMeshes.jlの方がフットワークが軽くて良さそう。
contributorは常に募集してるらしく、私も参加しようと思っているが、それはそれとしてmain contributorの速が速すぎるのがちょっと怖い。

# 2021-04-14
今日は整骨院に行った。
少しずつ良くなってる気がする。

情報幾何学の勉強では、確率単体の上のFisher計量から誘導されるRiemann接続に関する測地線を描いたら閉曲線(たぶん楕円)になってびっくりした。
Twitterで微バズした。

Juliaでは…
* GeometryBasics.jlのdocsのPR全然mergeされんやんけ！
* Rotations.jlのPRを送ったやつ全然見られてへんやんけ！
* `promote_rule`と`promote_type`の違いとか諸々わからん！
* Meshes.jlを色々整理していきたいけど…時間確保できず

# 2021-04-15
古い友人(と言っても単に小学校から知り合いだっただけで特に親しい間柄だった訳ではないが−)から電話が来た。
彼とは小中が同じで、趣味嗜好も性格も大きく異なるが、個人的には彼の率直さに好感を持っていたのであった。

電話の内容は彼や共通の知人の近況などであったが、彼の言う通りに全体的に波乱万丈であった。
切り際に「また俺の声が聞きたくなったら電話してや」と言っており、その発言に恥ずかしさを覚えないのかと疑問に思いつつも、彼の率直さには敵わないのかも知れないとも思う。

Meshes.jlにtype周辺のことでPRを送ったが、mergeされずにcloseされた。
今後はZulipでメッセしてからPR開けとのことで、それもそうだと思った。
以下の幾つかはPR送る価値がありそうなのでやってみる

* `Sphere(Point(1,2),Point(8,3),Point(4,5))`
* `Ball(Point(0,0),3) ⊆ Ball(Point(0,0),4)`
* `Ray`のdomain

普通に色々な文献とかも載っててかなり楽しそう。
積極的にcontributeしていきたい！

# 2021-04-16
なんか諸々やる気が起きない日でしたが、そういう季節ってことにしましょう。

整骨院に通い始めて4回目、まあまあ良くなってきてる気がする。

夜になってから自転車で散策してたら雨に降られて、商店街で雨宿りしてから帰りました。

# 2021-04-17
久々に「熱力学の数理」の勉強会を再開した。
と言っても、多様体の話しかしていない。
今回は共変微分(接続)の導入をやった。
次回は以下をやるはず。

* テンソル場の共変微分
* Riemann接続
* 曲線に沿った接ベクトルの平行移動
* 測地線
* 平行移動を使った共変微分の解釈

次々回あたりから弾性論に多様体を応用する話をする予定。

# 2021-04-18
自転車で散策したが特に目的はなかった。
ラーメンを食べた。

肩こり改善のために運動を、と考えて自転車に乗ったのであったが、あれはあまり上半身が動かないので良くない気がする。
やはりランニングか。

# 2021-04-19
mibandの記録によると、8時間寝たのにdeep sleep(ノンレム睡眠)は17分しか無かったらしい。
その影響か、今日一日は幻臭が鼻にまとわりついたままで、大変不愉快な一日であった。

良い睡眠には適切な運動が必要と考えてランニングして、近所の川の堤防をよじ登った。
睡眠前の30分はディスプレイを見ずに読書。
「陽気なギャングは3つ数えろ」を読み進めた。

# 2021-04-20
「球面上の$n$点の点電荷からなる系が最も低いエネルギ状態になるのはどのような配置か」というThomson問題があって、$n=4,6,12$のときに正多面体の頂点に一致するという答えが知られています。
($n=8,20$のときには正多面体の頂点に一致しません！)

これの類似で「$SO(3)$上に適当な距離関数とエネルギ関数を定める。n点を取ったときにエネルギ状態が最小になる配置は何か」という問題を考えました。
$n=12, 24, 60$のときに正多面体群が出てくると予想していましたが、正多面体群が出てくるのは$n=24,60$のみでした(面白いい！！！)

# 2021-04-21
幻臭が続いていてつらい。
なんか諸々治安悪いのもあって厳しい。
